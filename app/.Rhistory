#Sum playoff wins, byes, championships, and appearances
Playoff_Stats <- playoff_data %>%
group_by(Team) %>%
summarize(Playoff_Apperances = sum(Playoff_Apperances),
Playoff_Wins = sum(Playoff_Wins),
Playoff_Losses = sum(Playoff_Losses),
Byes = sum(Byes),
Championships = sum(Championships),
Playoffs_Pts_For = mean(Points.For),
Playoff_Pts_Against = mean(Points.Against))
#Merge Regular Season and Playoff Statistics
full_data <- join_all(list(reg_statistics,Playoff_Stats), by = 'Team', type = 'full')
full_data[is.na(full_data)] <- 0
############################################################
################## Caluclate Rankings ######################
############################################################
rankings <- mutate(full_data, pts_for.rank = ave(Overall_Pts_For,FUN = function(x) rank(x, ties.method = "first")),
winpct.rank = ave(Win_Pct,FUN = function(x) rank(x, ties.method = "first")),
season.rank = ave(Best_Season,FUN = function(x) rank(x, ties.method = "first")),
Inebo_Pts = pts_for.rank + winpct.rank + season.rank + Playoff_Apperances + Playoff_Wins + Byes + (12*Championships)
)
reg_final <- arrange(rankings[c(1,23,2,3,17,5:7,9:12)], desc(Inebo_Pts))
playoffs_final <- arrange(rankings[c(1,13:19)],desc(Playoff_Apperances))
rankings_final <- rankings[c(1,23,2,3,5,7,13,14,16,17)] %>%
unite(Record, Wins:Losses, sep = "-") %>%
arrange(desc(Inebo_Pts)) %>%
mutate(PlayoffWinsByes = Playoff_Wins + Byes) %>%
select(-Playoff_Wins,-Byes)
############################################################
#####################Save Data#############################
##########################################################
#define lists for user input selection in ui
team_list <- reg_data$Team %>% unique
year_list <- c(2012,2013,2014,2015,2016)
save(full_data, playoffs_final, rankings_final, Reg_Data_01, reg_statistics,reg_final,draft,
team_list, year_list, final_draft, file = 'data/all.RData')
runApp()
runApp()
View(final_draft)
data <- final_draft %>%
group_by(Year,Team) %>%
summarize(Total = sum(Fantasy_Pts))
View(data)
View(draft)
View(final_draft)
data <- final_draft %>%
filter(Round <= 10) %>%
group_by(Year,Team) %>%
summarize(Total = sum(Fantasy_Pts))
View(data)
data <- final_draft %>%
filter(Round <= 8) %>%
group_by(Year,Team) %>%
summarize(Total = sum(Fantasy_Pts))
View(Reg_Data_01)
data <- final_draft %>%
group_by(Year,Team) %>%
summarize(Total = sum(Fantasy_Pts))
data1 <- Reg_Data_01 %>%
filter(POS %in% c('WR','RB','QB','TE')) %>%
group_by(Year,Team) %>%
summarize(Season_Pts = sum(Points.For))
test <- left_join(data,data1, by = c('Year' = 'Year', 'Team' = 'Team'))
data <- final_draft %>%
group_by(Year,Team) %>%
summarize(Total = sum(Fantasy_Pts))
data1 <- Reg_Data_01 %>%
group_by(Year,Team) %>%
summarize(Season_Pts = sum(Points.For))
test <- left_join(data,data1, by = c('Year' = 'Year', 'Team' = 'Team'))
View(test)
View(Reg_Data_01)
data <- final_draft %>%
group_by(Year,Team) %>%
summarize(Total = sum(Fantasy_Pts))
View(data)
data1 <- Reg_Data_01 %>%
group_by(Year,Team) %>%
summarize(Season_Pts = sum(Points.For))
View(data1)
test <- left_join(data,data1, by = c('Year' = 'Year', 'Team' = 'Team'))
View(test)
shiny::runApp()
View(final_draft)
data <- final_draft %>%
group_by(Year,Team) %>%
summarize(Total = sum(Fantasy_Pts))
data1 <- Reg_Data_01 %>%
group_by(Year,Team) %>%
summarize(Season_Pts = sum(Points.For))
View(data1)
View(data)
test <- left_join(data,data1, by = c('Year' = 'Year', 'Team' = 'Team'))
View(test)
View(rankings_final)
runApp()
source(file = 'actuals.R')
draft <- read.csv(file = "data/Draft_Data.csv")
actuals <- read_hist()
draft$WR <- ifelse(draft$POS == "WR",1,0)
draft$RB <- ifelse(draft$POS == "RB",1,0)
draft$QB <- ifelse(draft$POS == "QB",1,0)
draft$TE <- ifelse(draft$POS == "TE",1,0)
draft$DEF <- ifelse(draft$POS == "DEF",1,0)
draft$K <- ifelse(draft$POS == "K",1,0)
draft$Name <- gsub("\\s*\\([^\\)]+\\)","",as.character(draft$Player))
draft$Name <- gsub('Jr',"",gsub('Jr.',"",draft$Name))
draft$Name <- gsub('Sr.',"",draft$Name)
draft <- select(draft,Year,Round,Pick,Name,Team,WR,RB,QB,TE,DEF,K)
final_draft <- left_join(draft,actuals, by = c('Year' = 'Year','Name' = 'Name'))
final_draft$Fantasy_Pts[is.na(final_draft$Fantasy_Pts)] <- 0
source(file = 'actuals.R')
reg_data <- read.csv(file = "data/Reg_Data.csv" )
playoff_data <- read.csv(file = "data/Playoff_Data.csv")
proj <- read.csv(file = "data/2017proj.csv")
draft <- read.csv(file = "data/Draft_Data.csv")
actuals <- read_hist()
#################################################################################
################################### Clean Data ##################################
#################################################################################
#Clean regular season data
Reg_Data_01 <- reg_data %>%
select(-Score,-Opponent,-Opponent.Name,-X) %>%
plyr::rename(c('Real.Opponent.Name' = 'Opponent_Name'))
Reg_Data_01$Team <- as.character(Reg_Data_01$Team)
Reg_Data_01$Opponent_Name <- as.factor(Reg_Data_01$Opponent_Name)
Reg_Data_01$Win_Pct <- ifelse(Reg_Data_01$Outcome == 'Win',1,0)
#Clean Playoff Data
playoff_data$Playoff_Wins <- ifelse(playoff_data$Outcome != 'Win',0,ifelse(playoff_data$Opponent == "Bye",0,1))
playoff_data$Playoff_Losses <- ifelse(playoff_data$Outcome == "Loss",1,0)
playoff_data$Byes <- ifelse(playoff_data$Opponent == "Bye",1,0)
playoff_data$Championships <- ifelse(playoff_data$Round != "Final",0,ifelse(playoff_data$Outcome == "Win",1,0))
playoff_data$Playoff_Apperances <- ifelse(playoff_data$Round == "Quarter Final",1,0)
#Clean Draft Data
draft$WR <- ifelse(draft$POS == "WR",1,0)
draft$RB <- ifelse(draft$POS == "RB",1,0)
draft$QB <- ifelse(draft$POS == "QB",1,0)
draft$TE <- ifelse(draft$POS == "TE",1,0)
draft$DEF <- ifelse(draft$POS == "DEF",1,0)
draft$K <- ifelse(draft$POS == "K",1,0)
draft$Name <- gsub("\\s*\\([^\\)]+\\)","",as.character(draft$Player))
draft$Name <- gsub('Jr',"",gsub('Jr.',"",draft$Name))
draft$Name <- gsub('Sr.',"",draft$Name)
draft <- select(draft,Year,Round,Pick,Name,Team,WR,RB,QB,TE,DEF,K)
final_draft <- left_join(draft,actuals, by = c('Year' = 'Year','Name' = 'Name'))
final_draft$Fantasy_Pts[is.na(final_draft$Fantasy_Pts)] <- 0
#################################################################################
#####################  Regular Season Statistics ################################
#################################################################################
#Historical overall statistics. Based on data through 2012.
Overall_Stats <- Reg_Data_01 %>%
group_by(Team) %>%
summarize(Overall_Pts_For = mean(Points.For),
Overall_Pts_Against = mean(Points.Against),
Win_Pct = mean(Win_Pct))
#Season statistics
Season_Stats <- Reg_Data_01 %>%
group_by(Team,Season) %>%
summarize(Pts_For = mean(Points.For),
Pts_Against = mean(Points.Against),
Win_Pct = mean(Win_Pct))
BestWorst_Seasons <- Season_Stats %>%
group_by(Team) %>%
summarize(Best_Season = max(Pts_For),
Best_WinPct = max(Win_Pct),
Worse_Season = min(Pts_For),
Worse_WinPct = min(Win_Pct))
#Individual Game Statistics
Game_Stats <- Reg_Data_01 %>%
group_by(Team) %>%
summarize(Best_Week = max(Points.For),
Worse_Week = min(Points.For))
#Merge Statistics, Calc Wins and Losses, Format
reg_statistics <- join_all(list(Overall_Stats,BestWorst_Seasons,Game_Stats), by = 'Team', type = 'left') %>%
mutate(Wins = 65*Win_Pct, Losses = 65*(1-Win_Pct))
reg_statistics <- reg_statistics[,c(1,11,12,4,2,3,5:10)]
############################################################
################## Playoff  Statistics #####################
############################################################
#Sum playoff wins, byes, championships, and appearances
Playoff_Stats <- playoff_data %>%
group_by(Team) %>%
summarize(Playoff_Apperances = sum(Playoff_Apperances),
Playoff_Wins = sum(Playoff_Wins),
Playoff_Losses = sum(Playoff_Losses),
Byes = sum(Byes),
Championships = sum(Championships),
Playoffs_Pts_For = mean(Points.For),
Playoff_Pts_Against = mean(Points.Against))
#Merge Regular Season and Playoff Statistics
full_data <- join_all(list(reg_statistics,Playoff_Stats), by = 'Team', type = 'full')
full_data[is.na(full_data)] <- 0
############################################################
################## Caluclate Rankings ######################
############################################################
rankings <- mutate(full_data, pts_for.rank = ave(Overall_Pts_For,FUN = function(x) rank(x, ties.method = "first")),
winpct.rank = ave(Win_Pct,FUN = function(x) rank(x, ties.method = "first")),
season.rank = ave(Best_Season,FUN = function(x) rank(x, ties.method = "first")),
Inebo_Pts = pts_for.rank + winpct.rank + season.rank + Playoff_Apperances + Playoff_Wins + Byes + (12*Championships)
)
reg_final <- arrange(rankings[c(1,23,2,3,17,5:7,9:12)], desc(Inebo_Pts))
playoffs_final <- arrange(rankings[c(1,13:19)],desc(Playoff_Apperances))
rankings_final <- rankings[c(1,23,2,3,5,7,13,14,16,17)] %>%
unite(Record, Wins:Losses, sep = "-") %>%
arrange(desc(Inebo_Pts)) %>%
mutate(PlayoffWinsByes = Playoff_Wins + Byes) %>%
select(-Playoff_Wins,-Byes)
############################################################
#####################Save Data#############################
##########################################################
#define lists for user input selection in ui
team_list <- reg_data$Team %>% unique
year_list <- c(2012,2013,2014,2015,2016)
save(full_data, playoffs_final, rankings_final, Reg_Data_01, reg_statistics,reg_final,
team_list, year_list, final_draft, file = 'data/all.RData')
shiny::runApp()
data <- final_draft %>%
group_by(Year,Team) %>%
summarize(Total = sum(Fantasy_Pts))
data1 <- Reg_Data_01 %>%
group_by(Year,Team) %>%
summarize(Season_Pts = sum(Points.For))
test <- left_join(data,data1, by = c('Year' = 'Year', 'Team' = 'Team'))
View(test)
View(test)
kick_stats <- read.csv(file = "data/Kicking_Stats.csv")
View(kick_stats)
View(kick_stats)
kick_stats <- kick_stats %>%
mutate(Points = PAT + FG_0_19*3 + FG_20_29*3 + FG_30_39*3,FG_40_49*4,FG_50*5) %>%
select(Year,POS,Player,Points)
Hist_Stats <- bind_rows(rush_stats,catch_stats,pass_stats,kr_stats,pr_stats,kick_stats) %>%
group_by(Year,Player) %>%
summarize(Fantasy_Pts = sum(Points))
rush_stats <- read.csv(file = "data/Rushing_Stats.csv")
catch_stats <- read.csv(file = "data/Recieving_Stats.csv")
pass_stats <- read.csv(file = "data/Passing_Stats.csv")
pr_stats <- read.csv(file = "data/PR_Stats.csv")
kr_stats <- read.csv(file = "data/KR_Stats.csv")
kick_stats <- read.csv(file = "data/Kicking_Stats.csv")
#Calculate Rush Fantasy Points
rush_stats <- rush_stats %>%
mutate(Rush_Yds = as.numeric(as.character(gsub(",","",Yds))),
Points = Rush_Yds*.1 + TD*6) %>%
select(Year,POS,Player,Points)
#Calculate Receiving Fantasy Points
catch_stats <- catch_stats %>%
mutate(Rec_Yds = as.numeric(as.character(gsub(",","",Yds))),
Points = Rec*.5 + Rec_Yds*.1 + TD*6) %>%
select(Year,POS,Player,Points)
#Calculate Pass Fantasy Points
pass_stats <- pass_stats %>%
mutate(Pass_Yds = as.numeric(as.character(gsub(",","",Yds))),
Points = Pass_Yds*.04 + TD*4 + Int*-1) %>%
select(Year,POS,Player,Points)
#Calculate KR Fantasy Points
kr_stats <- kr_stats %>%
mutate(Points = TD*6) %>%
select(Year,POS,Player,Points)
#Calculate PR Fantasy Points
pr_stats <- pr_stats %>%
mutate(Points = TD*6) %>%
select(Year,POS,Player,Points)
#Calculate Kicking Fantasy Points
kick_stats <- kick_stats %>%
mutate(Points = PAT + FG_0_19*3 + FG_20_29*3 + FG_30_39*3,FG_40_49*4,FG_50*5) %>%
select(Year,POS,Player,Points)
Hist_Stats <- bind_rows(rush_stats,catch_stats,pass_stats,kr_stats,pr_stats,kick_stats) %>%
group_by(Year,Player) %>%
summarize(Fantasy_Pts = sum(Points))
Hist_Stats$dummy <- gsub("\\s*\\([^\\)]+\\)","",as.character(Hist_Stats$Player))
Hist_Stats$dummy <- gsub('Jr',"",gsub('Jr.',"",Hist_Stats$dummy))
Hist_Stats$Name <- gsub('Sr.',"",Hist_Stats$dummy)
final <- select(Hist_Stats,Year,Name,Fantasy_Pts)
View(final)
View(final_draft)
rush_stats <- read.csv(file = "data/Rushing_Stats.csv")
catch_stats <- read.csv(file = "data/Recieving_Stats.csv")
pass_stats <- read.csv(file = "data/Passing_Stats.csv")
pr_stats <- read.csv(file = "data/PR_Stats.csv")
kr_stats <- read.csv(file = "data/KR_Stats.csv")
kick_stats <- read.csv(file = "data/Kicking_Stats.csv")
rush <- rush_stats %>%
mutate(Rush_Yds = as.numeric(as.character(gsub(",","",Yds))),
Points = Rush_Yds*.1 + TD*6) %>%
select(Year,POS,Player,Points)
#Calculate Receiving Fantasy Points
catch <- catch_stats %>%
mutate(Rec_Yds = as.numeric(as.character(gsub(",","",Yds))),
Points = Rec*.5 + Rec_Yds*.1 + TD*6) %>%
select(Year,POS,Player,Points)
#Calculate Pass Fantasy Points
pass <- pass_stats %>%
mutate(Pass_Yds = as.numeric(as.character(gsub(",","",Yds))),
Points = Pass_Yds*.04 + TD*4 + Int*-1) %>%
select(Year,POS,Player,Points)
#Calculate KR Fantasy Points
kr <- kr_stats %>%
mutate(Points = TD*6) %>%
select(Year,POS,Player,Points)
#Calculate PR Fantasy Points
pr <- pr_stats %>%
mutate(Points = TD*6) %>%
select(Year,POS,Player,Points)
def_pr <- pr_stats %>%
mutate(Points = TD*6) %>%
select(Year,POS,Team,Points) %>%
plyr::rename(c('Team' = 'Player'))
View(def_pr)
def_pr$POS <- "DEF"
View(def_pr)
def_kr <- kr_stats %>%
mutate(Points = TD*6) %>%
select(Year,POS,Team,Points) %>%
plyr::rename(c('Team' = 'Player'))
def_kr$POS <- "DEF"
View(def_kr)
View(final)
View(final_draft)
draft <- read.csv(file = "data/Draft_Data.csv")
draft$WR <- ifelse(draft$POS == "WR",1,0)
draft$RB <- ifelse(draft$POS == "RB",1,0)
draft$QB <- ifelse(draft$POS == "QB",1,0)
draft$TE <- ifelse(draft$POS == "TE",1,0)
draft$DEF <- ifelse(draft$POS == "DEF",1,0)
draft$K <- ifelse(draft$POS == "K",1,0)
draft$Name <- gsub("\\s*\\([^\\)]+\\)","",as.character(draft$Player))
draft$Name <- gsub('Jr',"",gsub('Jr.',"",draft$Name))
draft$Name <- gsub('Sr.',"",draft$Name)
draft <- select(draft,Year,Round,Pick,Name,Team,WR,RB,QB,TE,DEF,K)
View(draft)
View(def_kr)
def_pr$Player <- toupper(def_pr$Player)
def_pr$Player[def_pr$Player == "STL"] <- "LAR"
def_kr$Player <- toupper(def_kr$Player)
def_kr$Player[def_kr$Player == "STL"] <- "LAR"
View(draft)
to_stats <- read.csv(file = "data/turnover_stats.csv")
View(to_stats)
View(to_stats)
to <- to_stats %>%
mutate(Points = Int*2 + Fum*2) %>%
select(Year,POS,Team,Points) %>%
plyr::rename(c('Team' = 'Player'))
View(to)
deftd_stats <- read.csv(file = "data/Def_TD_Stats.csv")
View(deftd_stats)
View(deftd_stats)
deftd <- deftd_stats %>%
mutate(Points = IR*6 + FR*6 + BK*6 + BP*6 + FGR*6 + Saf*2) %>%
select(Year,POS,Team,Points) %>%
plyr::rename(c('Team' = 'Player'))
View(deftd)
kick <- kick_stats %>%
mutate(Points = PAT + FG_0_19*3 + FG_20_29*3 + FG_30_39*3,FG_40_49*4,FG_50*5) %>%
select(Year,POS,Player,Points)
kick <- kick_stats %>%
mutate(Points = PAT + FG_0_19*3 + FG_20_29*3 + FG_30_39*3,FG_40_49*4,FG_50*5) %>%
select(Year,POS,Player,Points)
#Calculate Turnover Fantasy Points
to <- to_stats %>%
mutate(Points = Int*2 + Fum*2) %>%
select(Year,POS,Team,Points) %>%
plyr::rename(c('Team' = 'Player'))
#Calculate Defensive Touchdown & Safety Fantasy Points
deftd <- deftd_stats %>%
mutate(Points = IR*6 + FR*6 + BK*6 + BP*6 + FGR*6 + Saf*2) %>%
select(Year,POS,Team,Points) %>%
plyr::rename(c('Team' = 'Player'))
Hist_Stats <- bind_rows(rush,catch,pass,kr,pr,to,kick,deftd,def_kr,def_pr) %>%
group_by(Year,Player) %>%
summarize(Fantasy_Pts = sum(Points))
Hist_Stats$dummy <- gsub("\\s*\\([^\\)]+\\)","",as.character(Hist_Stats$Player))
Hist_Stats$dummy <- gsub('Jr',"",gsub('Jr.',"",Hist_Stats$dummy))
Hist_Stats$Name <- gsub('Sr.',"",Hist_Stats$dummy)
final <- select(Hist_Stats,Year,Name,Fantasy_Pts)
View(final)
View(Hist_Stats)
ptsallowed_stats <- read.csv(file = "data/PtsAllowed_Stats.csv")
sack_stats <- read.csv(file = "data/Sack_Stats.csv")
sack <- sack_stats %>%
mutate(Points = Sack*1) %>%
select(Year,POS,Team,Points) %>%
plyr::rename(c('Team' = 'Player'))
View(ptsallowed_stats)
ptsallowed_stats <- read.csv(file = "data/PtsAllowed_Stats.csv")
ptsallowed <- ptsallowed_stats %>%
mutate(Points = (Pts_0*10 + Pts_1_6*7 + Pts_7_13*4 + Pts_14_20*2 + Pts_21_27*1 + Pts_28_34*-1 + Pts_34*-4)*16) %>%
select(Year,POS,Team,Points) %>%
plyr::rename(c('Team' = 'Player'))
View(ptsallowed)
Hist_Stats <- bind_rows(rush,catch,pass,kr,pr,to,kick,deftd,def_kr,def_pr,sack,ptsallowed) %>%
group_by(Year,Player) %>%
summarize(Fantasy_Pts = sum(Points))
Hist_Stats$dummy <- gsub("\\s*\\([^\\)]+\\)","",as.character(Hist_Stats$Player))
Hist_Stats$dummy <- gsub('Jr',"",gsub('Jr.',"",Hist_Stats$dummy))
Hist_Stats$Name <- gsub('Sr.',"",Hist_Stats$dummy)
final <- select(Hist_Stats,Year,Name,Fantasy_Pts)
View(final)
shiny::runApp()
data <- final_draft %>%
group_by(Year,Team) %>%
summarize(Total = sum(Fantasy_Pts))
data1 <- Reg_Data_01 %>%
group_by(Year,Team) %>%
summarize(Season_Pts = sum(Points.For))
test <- left_join(data,data1, by = c('Year' = 'Year', 'Team' = 'Team'))
View(test)
View(test)
projections <- read.csv(file = "data/Projections.csv")
View(projections)
View(final_draft)
proj <- projections %>%
plyr::rename(c('player' = 'Name','team' = 'Team','playerposition' = 'POS','points' = 'Proj_Pts')) %>%
select(Year,Name,Proj_Pts)
View(proj)
all <- plyr::join_all(list(draft,actuals,proj), by = c('Year' = 'Year','Name' = 'Name'),type = 'left')
all <- left_join(draft,actuals, by = c('Year' = 'Year','Name' = 'Name')) %>%
left_join(.,proj, by = c('Year' = 'Year','Name' = 'Name'))
draft <- read.csv(file = "data/Draft_Data.csv")
actuals <- read_hist()
projections <- read.csv(file = "data/Projections.csv")
source(file = 'actuals.R')
draft <- read.csv(file = "data/Draft_Data.csv")
actuals <- read_hist()
projections <- read.csv(file = "data/Projections.csv")
draft$WR <- ifelse(draft$POS == "WR",1,0)
draft$RB <- ifelse(draft$POS == "RB",1,0)
draft$QB <- ifelse(draft$POS == "QB",1,0)
draft$TE <- ifelse(draft$POS == "TE",1,0)
draft$DEF <- ifelse(draft$POS == "DEF",1,0)
draft$K <- ifelse(draft$POS == "K",1,0)
draft$Name <- gsub("\\s*\\([^\\)]+\\)","",as.character(draft$Player))
draft$Name <- gsub('Jr',"",gsub('Jr.',"",draft$Name))
draft$Name <- gsub('Sr.',"",draft$Name)
draft <- select(draft,Year,Round,Pick,Name,Team,WR,RB,QB,TE,DEF,K)
proj <- projections %>%
plyr::rename(c('player' = 'Name','team' = 'Team','playerposition' = 'POS','points' = 'Proj_Pts')) %>%
select(Year,Name,Proj_Pts)
all <- left_join(draft,actuals, by = c('Year' = 'Year','Name' = 'Name')) %>%
left_join(.,proj, by = c('Year' = 'Year','Name' = 'Name'))
View(all)
View(actuals)
View(draft)
all <- left_join(draft,actuals, by = c('Year' = 'Year','Name' = 'Name'))
View(all)
trim <- function (x) gsub("^\\s+|\\s+$", "", x)
draft$Name <- trim(draft$Name)
actuals$Name <- trim(actuals$Name)
all <- left_join(draft,actuals, by = c('Year' = 'Year','Name' = 'Name'))
View(all)
test <- all[is.na(all$Fantasy_Pts)]
test <- all[is.na(all$Fantasy_Pts,)]
test <- all[is.na(all$Fantasy_Pts),]
View(test)
source(file = 'actuals.R')
draft <- read.csv(file = "data/Draft_Data.csv")
actuals <- read_hist()
draft$WR <- ifelse(draft$POS == "WR",1,0)
draft$RB <- ifelse(draft$POS == "RB",1,0)
draft$QB <- ifelse(draft$POS == "QB",1,0)
draft$TE <- ifelse(draft$POS == "TE",1,0)
draft$DEF <- ifelse(draft$POS == "DEF",1,0)
draft$K <- ifelse(draft$POS == "K",1,0)
draft$Name <- gsub("\\s*\\([^\\)]+\\)","",as.character(draft$Player))
draft$Name <- gsub('Jr',"",gsub('Jr.',"",draft$Name))
draft$Name <- gsub('Sr.',"",draft$Name)
draft <- select(draft,Year,Round,Pick,Name,Team,WR,RB,QB,TE,DEF,K)
trim <- function (x) gsub("^\\s+|\\s+$", "", x)
draft$Name <- trim(draft$Name)
actuals$Name <- trim(actuals$Name)
all <- left_join(draft,actuals, by = c('Year' = 'Year','Name' = 'Name'))
test <- all[is.na(all$Fantasy_Pts),]
View(test)
draft <- read.csv(file = "data/Draft_Data.csv")
actuals <- read_hist()
draft$WR <- ifelse(draft$POS == "WR",1,0)
draft$RB <- ifelse(draft$POS == "RB",1,0)
draft$QB <- ifelse(draft$POS == "QB",1,0)
draft$TE <- ifelse(draft$POS == "TE",1,0)
draft$DEF <- ifelse(draft$POS == "DEF",1,0)
draft$K <- ifelse(draft$POS == "K",1,0)
draft$Name <- gsub("\\s*\\([^\\)]+\\)","",as.character(draft$Player))
draft$Name <- gsub('Jr',"",gsub('Jr.',"",draft$Name))
draft$Name <- gsub('Sr.',"",draft$Name)
draft <- select(draft,Year,Round,Pick,Name,Team,WR,RB,QB,TE,DEF,K)
trim <- function (x) gsub("^\\s+|\\s+$", "", x)
draft$Name <- trim(draft$Name)
actuals$Name <- trim(actuals$Name)
all <- left_join(draft,actuals, by = c('Year' = 'Year','Name' = 'Name'))
test <- all[is.na(all$Fantasy_Pts),]
View(test)
View(actuals)
source(file = 'actuals.R')
draft <- read.csv(file = "data/Draft_Data.csv")
actuals <- read_hist()
draft$WR <- ifelse(draft$POS == "WR",1,0)
draft$RB <- ifelse(draft$POS == "RB",1,0)
draft$QB <- ifelse(draft$POS == "QB",1,0)
draft$TE <- ifelse(draft$POS == "TE",1,0)
draft$DEF <- ifelse(draft$POS == "DEF",1,0)
draft$K <- ifelse(draft$POS == "K",1,0)
draft$Name <- gsub("\\s*\\([^\\)]+\\)","",as.character(draft$Player))
draft$Name <- gsub('Jr',"",gsub('Jr.',"",draft$Name))
draft$Name <- gsub('Sr.',"",draft$Name)
draft <- select(draft,Year,Round,Pick,Name,Team,WR,RB,QB,TE,DEF,K)
trim <- function (x) gsub("^\\s+|\\s+$", "", x)
draft$Name <- trim(draft$Name)
actuals$Name <- trim(actuals$Name)
all <- left_join(draft,actuals, by = c('Year' = 'Year','Name' = 'Name'))
test <- all[is.na(all$Fantasy_Pts),]
View(test)
